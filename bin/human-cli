#!/usr/bin/env python

import human

human.username = input('user: ')
human.password = input('pass: ')

while True:

    # Wait until valid response
    response = input('a: ask\nr: respond\nq: quit\n>> ')
    while not (response in ['a', 'r', 'q']):
        print('Invalid input.')
        response = input('a: ask\nr: respond\nq: quit\n>> ')

    if response == 'a':
        text = input('question: ')
        regex = input('regex (optional): ')
        if regex == '':
            regex = regex_util.ANY
        human.Query.create(text, regex)

    elif response == 'r':
        query = human.Response.get()
        print('question: {}'.format(query['text']))
        print('regex: {}'.format(query['regex']))
        response = input('response: ')
        human.Response.create(response, query)

    else:
        exit()
